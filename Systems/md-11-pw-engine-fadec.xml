<?xml version="1.0"?>

<!-- McDonnell Douglas MD-11 PW4462 Engine/FADEC -->
<!-- Copyright (c) 2025 Josh Davidson (Octal450) -->

<system name="MD-11: PW Engine/FADEC">
	
	<property value="30">/systems/fadec/limit/rated-temp</property>
	<property value="62000">/systems/fadec/limit/rated-thrust</property> <!-- 62K mode -->
	<property value="60000">/systems/fadec/limit/derated-thrust</property> <!-- 60K mode -->
	
	<channel name="Thrust Limits">
		
		<fcs_function name="/systems/fadec/limit/rated-thrust-n1">
			<function>
				<table>
					<independentVar lookup="row">/position/altitude-ft</independentVar>
					<independentVar lookup="column">propulsion/tat-c</independentVar>
					<tableData>
						      -60   -30    0      30     60
						-2000  87.3  92.6   97.7  102.6  107.6
						    0  90.3  95.8  100.9  106.0  111.0
						10000  96.1  99.9  105.0  108.2  112.6
						45000  92.8  96.8  102.3  107.4  112.0
					</tableData>
				</table>
			</function>
		</fcs_function>
		
		<!-- Begin EPR temperature compensation -->
		<fcs_function name="/systems/fadec/limit/n1-epr-temp-factor-ref">
			<function>
				<table>
					<independentVar lookup="row">/position/altitude-ft</independentVar>
					<tableData> <!-- Rated N1 @ 30C -->
						-2000  102.6
						    0  106.0
						10000  108.2
						45000  107.4
					</tableData>
				</table>
			</function>
		</fcs_function>
		
		<fcs_function name="/systems/fadec/limit/n1-epr-temp-factor">
			<function>
				<max>
					<quotient>
						<property>/systems/fadec/limit/n1-epr-temp-factor-ref</property>
						<property>/systems/fadec/limit/rated-thrust-n1</property>
					</quotient>
					<value>0.000001</value> <!-- Prevent divide by 0 further on - shouldn't happen as this should be around 1 -->
				</max>
			</function>
		</fcs_function>
		<!-- End EPR temperature compensation -->
		
		<fcs_function name="/systems/fadec/limit/milthrust-no-density"> <!-- Copy of MilThrust table without density effects -->
			<function>
				<table>
					<independentVar lookup="row">velocities/mach</independentVar>
					<independentVar lookup="column">/position/altitude-ft</independentVar>
					<tableData>
						    -10000   0       10000   20000   30000   45000   52000
						0.0  1.0000  1.0000  0.7400  0.5640  0.3920  0.2840  0.0000
						0.2  1.0000  0.9740  0.6970  0.5360  0.3850  0.2740  0.0000
						0.4  1.0000  0.9570  0.6920  0.5460  0.3870  0.2670  0.0000
						0.6  1.0000  0.9410  0.7210  0.5660  0.3580  0.2310  0.0000
						0.8  1.0000  1.0200  0.7820  0.5570  0.3040  0.2060  0.0000
						0.9  1.0000  1.0200  0.7820  0.5220  0.2710  0.1270  0.0000
						1.0  1.0000  0.9510  0.7210  0.4410  0.1740  0.0580  0.0000
						1.2  0.0000  0.0000  0.0000  0.0000  0.0000  0.0000  0.0000
					</tableData>
				</table>
			</function>
		</fcs_function>
		
		<fcs_function name="/systems/fadec/limit/milthrust-density"> <!-- Copy of MilThrust table with density effects -->
			<function>
				<table>
					<independentVar lookup="row">velocities/mach</independentVar>
					<independentVar lookup="column">atmosphere/density-altitude</independentVar>
					<tableData>
						    -10000   0       10000   20000   30000   45000   52000
						0.0  1.2600  1.0000  0.7400  0.5640  0.3920  0.2840  0.0000
						0.2  1.1710  0.9740  0.6970  0.5360  0.3850  0.2740  0.0000
						0.4  1.1500  0.9570  0.6920  0.5460  0.3870  0.2670  0.0000
						0.6  1.1810  0.9410  0.7210  0.5660  0.3580  0.2310  0.0000
						0.8  1.2290  1.0200  0.7820  0.5570  0.3040  0.2060  0.0000
						0.9  1.2580  1.0200  0.7820  0.5220  0.2710  0.1270  0.0000
						1.0  1.1810  0.9510  0.7210  0.4410  0.1740  0.0580  0.0000
						1.2  0.0000  0.0000  0.0000  0.0000  0.0000  0.0000  0.0000
					</tableData>
				</table>
			</function>
		</fcs_function>
		
		<!-- Following functions fix a FGTurbine inaccuracy... rated thrust N1% should be rated thrust lbs -->
		<!-- These calculations change it so that the rated power at sea level is at the correct N1% value. It still changes with altitude and mach as it should -->
		<fcs_function name="/systems/fadec/limit/rated-thrust-target"> <!-- Thrust it should produce at the rated N1 -->
			<function>
				<sum>
					<product>
						<property>propulsion/engine[0]/IdleThrust</property> <!-- It doesn't matter which engine, same for all -->
						<property>/systems/fadec/limit/rated-thrust</property>
					</product>
					<product>
						<difference>
							<property>/systems/fadec/limit/rated-thrust</property>
							<product>
								<property>propulsion/engine[0]/IdleThrust</property> <!-- It doesn't matter which engine, same for all -->
								<property>/systems/fadec/limit/rated-thrust</property>
							</product>
						</difference>
						<property>/systems/fadec/limit/milthrust-no-density</property>
					</product>
				</sum>
			</function>
		</fcs_function>
		
		<fcs_function name="/systems/fadec/limit/rated-thrust-actual"> <!-- Actual thrust that FGTurbine would produce at the rated N1 -->
			<function>
				<sum>
					<product>
						<property>propulsion/engine[0]/IdleThrust</property> <!-- It doesn't matter which engine, same for all -->
						<property>/systems/fadec/limit/rated-thrust</property>
					</product>
					<product>
						<product>
							<difference>
								<property>/systems/fadec/limit/rated-thrust</property>
								<product>
									<property>propulsion/engine[0]/IdleThrust</property> <!-- It doesn't matter which engine, same for all -->
									<property>/systems/fadec/limit/rated-thrust</property>
								</product>
							</difference>
							<property>/systems/fadec/limit/milthrust-density</property>
						</product>
						<pow>
							<quotient>
								<difference>
									<property>/systems/fadec/limit/rated-thrust-n1</property>
									<value>23.8</value>
								</difference>
								<value>87.6</value>
							</quotient>
							<value>2</value>
						</pow>
					</product>
				</sum>
			</function>
		</fcs_function>
		
		<fcs_function name="/systems/fadec/limit/rated-thrust-factor">
			<function>
				<ifthen>
					<eq>
						<property>/systems/acconfig/autoconfig-running</property>
						<value>1</value>
					</eq>
					<value>0</value>
					<ifthen>
						<nq> <!-- Prevent divide by 0 -->
							<property>/systems/fadec/limit/rated-thrust-actual</property>
							<value>0</value>
						</nq>
						<quotient>
							<property>/systems/fadec/limit/rated-thrust-target</property>
							<property>/systems/fadec/limit/rated-thrust-actual</property>
						</quotient>
						<value>1</value>
					</ifthen>
				</ifthen>
			</function>
		</fcs_function>
		
		<!-- 
		Thrust limits on the PW are tricky because of the EPR model not being 100% accurate, so instead I computed N1s.
		The GE's just use N1, which is linear so it works well to make the FADEC, but as stated primary param is EPR.
		So we have our basic thrust limits in N1 created from tables and other factors, then we calculate them to EPR.
		After we round the EPR, in order to correctly control/limit thrust, we will convert it BACK to N1... annoying right?
		Well the advantage is the plane is actually targetting EPR, so its more realistic to do this way even if its more steps
		I think that's better than just pretending to use EPR, and actually using N1 - if you look close enough, you can tell!
		-->
		<fcs_function name="/systems/fadec/limit/go-around-table">
			<function>
				<table>
					<independentVar lookup="row">/position/altitude-ft</independentVar>
					<independentVar lookup="column">propulsion/tat-c</independentVar>
					<tableData> <!-- Takeoff - AC Low -->
						      -60   -50    -40    -30    -20    -10     0      10     20     30     40     50     60
						-2000  86.9   88.7   90.5   92.2   94.0   95.7   97.3   99.0  100.5  102.2  102.2  100.7   99.6
						-1000  88.4   90.3   92.0   93.8   95.6   97.3   99.0  100.6  102.2  103.9  103.1  101.5  100.0
						    0  89.9   91.8   93.6   95.4   97.2   98.9  100.5  102.2  103.9  105.6  103.8  102.1  100.4
						 1000  90.5   92.5   94.3   96.2   97.9   99.6  101.3  103.0  104.6  105.6  103.9  101.9  100.5
						 2000  91.3   93.2   95.0   96.8   98.6  100.3  102.0  103.6  105.4  105.6  103.8  101.8  100.6
						 3000  91.9   93.9   95.7   97.6   99.3  101.0  102.7  104.4  106.1  105.6  103.6  101.8  100.7
						 4000  92.7   94.6   96.4   98.2  100.0  101.7  103.3  105.0  106.7  105.6  103.4  102.0  100.8
						 5000  93.4   95.3   97.2   99.0  100.6  102.4  104.0  105.7  107.4  105.5  103.2  102.0  100.8
						 6000  94.0   95.9   97.7   99.5  101.3  103.0  104.6  106.2  107.4  105.5  103.2  102.0  100.7
						 7000  94.8   96.7   98.5  100.4  102.1  103.9  105.5  107.2  107.5  105.3  103.2  102.1  101.2
						 8000  95.5   97.5   99.3  101.2  103.0  104.7  106.4  108.1  107.3  105.1  103.3  102.1  102.1
						 9000  96.0   97.9   99.8  101.7  103.4  105.2  106.9  108.6  107.2  105.1  103.4  102.3  102.3
						10000  96.3   98.3  100.3  102.1  103.9  105.7  107.4  108.9  107.0  105.1  103.6  102.4  102.4
						11000  97.1   99.0  100.9  102.8  104.6  106.4  108.1  109.1  106.9  105.0  103.8  103.8  103.8
						12000  97.7   99.7  101.7  103.5  105.4  107.2  108.9  109.0  106.8  105.0  104.0  104.0  104.0
						13000  98.1  100.2  102.1  104.0  105.9  107.6  109.3  108.9  106.8  105.1  104.1  104.1  104.1
						14000  98.6  100.6  102.5  104.5  106.3  108.1  109.8  108.7  106.8  105.2  104.2  104.2  104.2
					</tableData>
				</table>
			</function>
		</fcs_function>
		
		<fcs_function name="/systems/fadec/limit/go-around-derate"> <!-- Inverse N1 thrust calculation, gives N1 per wanted thrust -->
			<function>
				<sum>
					<product>
						<sqrt>
							<quotient>
								<difference>
									<product>
										<!-- Calculate uncorrected thrust -->
										<sum>
											<product>
												<property>propulsion/engine[0]/IdleThrust</property> <!-- It doesn't matter which engine, same for all -->
												<property>/systems/fadec/limit/rated-thrust</property>
											</product>
											<product>
												<product>
													<difference>
														<property>/systems/fadec/limit/rated-thrust</property>
														<product>
															<property>propulsion/engine[0]/IdleThrust</property> <!-- It doesn't matter which engine, same for all -->
															<property>/systems/fadec/limit/rated-thrust</property>
														</product>
													</difference>
													<property>/systems/fadec/limit/milthrust-no-density</property>
												</product>
												<pow>
													<quotient>
														<difference>
															<property>/systems/fadec/limit/go-around-table</property>
															<value>23.8</value>
														</difference>
														<value>87.6</value>
													</quotient>
													<value>2</value>
												</pow>
											</product>
										</sum>
										<!-- End calculate uncorrected thrust -->
										<quotient>
											<property>/systems/fadec/limit/derated-thrust</property>
											<property>/systems/fadec/limit/rated-thrust</property>
										</quotient>
									</product>
									<product>
										<property>propulsion/engine[0]/IdleThrust</property> <!-- It doesn't matter which engine, same for all -->
										<property>/systems/fadec/limit/rated-thrust</property>
									</product>
								</difference>
								<max> <!-- Prevent divide by 0 -->
									<product>
										<difference>
											<property>/systems/fadec/limit/rated-thrust</property>
											<product>
												<property>propulsion/engine[0]/IdleThrust</property> <!-- It doesn't matter which engine, same for all -->
												<property>/systems/fadec/limit/rated-thrust</property>
											</product>
										</difference>
										<property>/systems/fadec/limit/milthrust-no-density</property>
									</product>
									<value>0.00001</value>
								</max>
							</quotient>
						</sqrt>
						<value>87.6</value>
					</product>
					<value>23.8</value>
				</sum>
			</function>
		</fcs_function>
		
		<fcs_function name="/systems/fadec/limit/go-around-input">
			<function>
				<pow>
					<product>
						<ifthen>
							<eq>
								<property>/systems/fadec/limit/pw-derate</property>
								<value>1</value>
							</eq>
							<property>/systems/fadec/limit/go-around-derate</property>
							<property>/systems/fadec/limit/go-around-table</property>
						</ifthen>
						<property>/systems/fadec/limit/n1-epr-temp-factor</property>
					</product>
					<value>3.5</value>
				</pow>
			</function>
		</fcs_function>
		
		<fcs_function name="/systems/fadec/limit/go-around-ref">
			<function>
				<sum>
					<product>
						<table>
							<independentVar lookup="row">/systems/fadec/limit/go-around-input</independentVar>
							<tableData>
								   65768.7  0.03
								14591440.5  1.00
								21887160.8  1.50
							</tableData>
						</table>
						<property>/systems/fadec/epr/c1</property>
					</product>
					<property>/systems/fadec/epr/c2</property>
				</sum>
			</function>
		</fcs_function>
		
		<fcs_function name="/systems/fadec/limit/go-around">
			<function>
				<quotient>
					<floor>
						<sum>
							<product>
								<property>/systems/fadec/limit/go-around-ref</property>
								<value>1000</value>
							</product>
							<value>0.5</value> <!-- Make it round correctly -->
						</sum>
					</floor>
					<value>1000</value>
				</quotient>
			</function>
		</fcs_function>
		
		<fcs_function name="/systems/fadec/limit/takeoff-table">
			<function>
				<table>
					<independentVar lookup="row">/position/altitude-ft</independentVar>
					<independentVar lookup="column">propulsion/tat-c</independentVar>
					<tableData>
						      -60   -50    -40    -30    -20    -10     0      10     20     30     40     50     60
						-2000  87.3   89.1   90.9   92.6   94.4   96.1   97.7   99.4  100.9  102.6  102.6  101.1  100.0
						-1000  88.8   90.7   92.4   94.2   96.0   97.7   99.4  101.0  102.6  104.3  103.5  101.9  100.4
						    0  90.3   92.2   94.0   95.8   97.6   99.3  100.9  102.6  104.3  106.0  104.2  102.5  100.8
						 1000  90.9   92.9   94.7   96.6   98.3  100.0  101.7  103.4  105.0  106.0  104.3  102.3  100.9
						 2000  91.7   93.6   95.4   97.2   99.0  100.7  102.4  104.0  105.8  106.0  104.2  102.2  101.0
						 3000  92.3   94.3   96.1   98.0   99.7  101.4  103.1  104.8  106.5  106.0  104.0  102.2  101.1
						 4000  93.1   95.0   96.8   98.6  100.4  102.1  103.7  105.4  107.1  106.0  103.8  102.4  101.2
						 5000  93.8   95.7   97.6   99.4  101.0  102.8  104.4  106.1  107.8  105.9  103.6  102.4  101.2
						 6000  94.4   96.3   98.1   99.9  101.7  103.4  105.0  106.6  107.8  105.9  103.6  102.4  101.1
						 7000  95.2   97.1   98.9  100.8  102.5  104.3  105.9  107.6  107.9  105.7  103.6  102.5  101.6
						 8000  95.9   97.9   99.7  101.6  103.4  105.1  106.8  108.5  107.7  105.5  103.7  102.5  102.5
						 9000  96.4   98.3  100.2  102.1  103.8  105.6  107.3  109.0  107.6  105.5  103.8  102.7  102.7
						10000  96.7   98.7  100.7  102.5  104.3  106.1  107.8  109.3  107.4  105.5  104.0  102.8  102.8
						11000  97.5   99.4  101.3  103.2  105.0  106.8  108.5  109.5  107.3  105.4  104.2  104.2  104.2
						12000  98.1  100.1  102.1  103.9  105.8  107.6  109.3  109.4  107.2  105.4  104.4  104.4  104.4
						13000  98.5  100.6  102.5  104.4  106.3  108.0  109.7  109.3  107.2  105.5  104.5  104.5  104.5
						14000  99.0  101.0  102.9  104.9  106.7  108.5  110.2  109.1  107.2  105.6  104.6  104.6  104.6
					</tableData>
				</table>
			</function>
		</fcs_function>
		
		<fcs_function name="/systems/fadec/limit/takeoff-derate"> <!-- Inverse N1 thrust calculation, gives N1 per wanted thrust -->
			<function>
				<sum>
					<product>
						<sqrt>
							<quotient>
								<difference>
									<product>
										<!-- Calculate uncorrected thrust -->
										<sum>
											<product>
												<property>propulsion/engine[0]/IdleThrust</property> <!-- It doesn't matter which engine, same for all -->
												<property>/systems/fadec/limit/rated-thrust</property>
											</product>
											<product>
												<product>
													<difference>
														<property>/systems/fadec/limit/rated-thrust</property>
														<product>
															<property>propulsion/engine[0]/IdleThrust</property> <!-- It doesn't matter which engine, same for all -->
															<property>/systems/fadec/limit/rated-thrust</property>
														</product>
													</difference>
													<property>/systems/fadec/limit/milthrust-no-density</property>
												</product>
												<pow>
													<quotient>
														<difference>
															<property>/systems/fadec/limit/takeoff-table</property>
															<value>23.8</value>
														</difference>
														<value>87.6</value>
													</quotient>
													<value>2</value>
												</pow>
											</product>
										</sum>
										<!-- End calculate uncorrected thrust -->
										<quotient>
											<property>/systems/fadec/limit/derated-thrust</property>
											<property>/systems/fadec/limit/rated-thrust</property>
										</quotient>
									</product>
									<product>
										<property>propulsion/engine[0]/IdleThrust</property> <!-- It doesn't matter which engine, same for all -->
										<property>/systems/fadec/limit/rated-thrust</property>
									</product>
								</difference>
								<max> <!-- Prevent divide by 0 -->
									<product>
										<difference>
											<property>/systems/fadec/limit/rated-thrust</property>
											<product>
												<property>propulsion/engine[0]/IdleThrust</property> <!-- It doesn't matter which engine, same for all -->
												<property>/systems/fadec/limit/rated-thrust</property>
											</product>
										</difference>
										<property>/systems/fadec/limit/milthrust-no-density</property>
									</product>
									<value>0.00001</value>
								</max>
							</quotient>
						</sqrt>
						<value>87.6</value>
					</product>
					<value>23.8</value>
				</sum>
			</function>
		</fcs_function>
		
		<fcs_function name="/systems/fadec/limit/takeoff-no-flex-input">
			<function>
				<pow>
					<product>
						<sum>
							<ifthen>
								<eq>
									<property>/systems/fadec/limit/pw-derate</property>
									<value>1</value>
								</eq>
								<property>/systems/fadec/limit/takeoff-derate</property>
								<property>/systems/fadec/limit/takeoff-table</property>
							</ifthen>
							<table>
								<independentVar lookup="row">/systems/fms/flight-data/to-packs</independentVar>
								<tableData>
									0  0.0
									1 -0.4
								</tableData>
							</table>
						</sum>
						<property>/systems/fadec/limit/n1-epr-temp-factor</property>
					</product>
					<value>3.5</value>
				</pow>
			</function>
		</fcs_function>
		
		<fcs_function name="/systems/fadec/limit/takeoff-no-flex-ref">
			<function>
				<sum>
					<product>
						<table>
							<independentVar lookup="row">/systems/fadec/limit/takeoff-no-flex-input</independentVar>
							<tableData>
								   65768.7  0.03
								14591440.5  1.00
								21887160.8  1.50
							</tableData>
						</table>
						<property>/systems/fadec/epr/c1</property>
					</product>
					<property>/systems/fadec/epr/c2</property>
				</sum>
			</function>
		</fcs_function>
		
		<fcs_function name="/systems/fadec/limit/takeoff-no-flex">
			<function>
				<quotient>
					<floor>
						<sum>
							<product>
								<property>/systems/fadec/limit/takeoff-no-flex-ref</property>
								<value>1000</value>
							</product>
							<value>0.5</value> <!-- Make it round correctly -->
						</sum>
					</floor>
					<value>1000</value>
				</quotient>
			</function>
		</fcs_function>
		
		<summer name="/systems/fadec/limit/flex-temp-input"> <!-- (Rated - Flex) + TAT -->
			<input>/systems/fadec/limit/rated-temp</input>
			<input>-/systems/fms/flight-data/flex-temp</input>
			<input>propulsion/tat-c</input>
		</summer>
		
		<fcs_function name="/systems/fadec/limit/takeoff-flex-table">
			<function>
				<table>
					<independentVar lookup="row">/position/altitude-ft</independentVar>
					<independentVar lookup="column">/systems/fadec/limit/flex-temp-input</independentVar>
					<tableData>
						      -60   -50    -40    -30    -20    -10     0      10     20     30     40     50     60
						-2000  87.3   89.1   90.9   92.6   94.4   96.1   97.7   99.4  100.9  102.6  102.6  101.1  100.0
						-1000  88.8   90.7   92.4   94.2   96.0   97.7   99.4  101.0  102.6  104.3  103.5  101.9  100.4
						    0  90.3   92.2   94.0   95.8   97.6   99.3  100.9  102.6  104.3  106.0  104.2  102.5  100.8
						 1000  90.9   92.9   94.7   96.6   98.3  100.0  101.7  103.4  105.0  106.0  104.3  102.3  100.9
						 2000  91.7   93.6   95.4   97.2   99.0  100.7  102.4  104.0  105.8  106.0  104.2  102.2  101.0
						 3000  92.3   94.3   96.1   98.0   99.7  101.4  103.1  104.8  106.5  106.0  104.0  102.2  101.1
						 4000  93.1   95.0   96.8   98.6  100.4  102.1  103.7  105.4  107.1  106.0  103.8  102.4  101.2
						 5000  93.8   95.7   97.6   99.4  101.0  102.8  104.4  106.1  107.8  105.9  103.6  102.4  101.2
						 6000  94.4   96.3   98.1   99.9  101.7  103.4  105.0  106.6  107.8  105.9  103.6  102.4  101.1
						 7000  95.2   97.1   98.9  100.8  102.5  104.3  105.9  107.6  107.9  105.7  103.6  102.5  101.6
						 8000  95.9   97.9   99.7  101.6  103.4  105.1  106.8  108.5  107.7  105.5  103.7  102.5  102.5
						 9000  96.4   98.3  100.2  102.1  103.8  105.6  107.3  109.0  107.6  105.5  103.8  102.7  102.7
						10000  96.7   98.7  100.7  102.5  104.3  106.1  107.8  109.3  107.4  105.5  104.0  102.8  102.8
						11000  97.5   99.4  101.3  103.2  105.0  106.8  108.5  109.5  107.3  105.4  104.2  104.2  104.2
						12000  98.1  100.1  102.1  103.9  105.8  107.6  109.3  109.4  107.2  105.4  104.4  104.4  104.4
						13000  98.5  100.6  102.5  104.4  106.3  108.0  109.7  109.3  107.2  105.5  104.5  104.5  104.5
						14000  99.0  101.0  102.9  104.9  106.7  108.5  110.2  109.1  107.2  105.6  104.6  104.6  104.6
					</tableData>
				</table>
			</function>
		</fcs_function>
		
		<fcs_function name="/systems/fadec/limit/takeoff-flex-derate"> <!-- Inverse N1 thrust calculation, gives N1 per wanted thrust -->
			<function>
				<sum>
					<product>
						<sqrt>
							<quotient>
								<difference>
									<product>
										<!-- Calculate uncorrected thrust -->
										<sum>
											<product>
												<property>propulsion/engine[0]/IdleThrust</property> <!-- It doesn't matter which engine, same for all -->
												<property>/systems/fadec/limit/rated-thrust</property>
											</product>
											<product>
												<product>
													<difference>
														<property>/systems/fadec/limit/rated-thrust</property>
														<product>
															<property>propulsion/engine[0]/IdleThrust</property> <!-- It doesn't matter which engine, same for all -->
															<property>/systems/fadec/limit/rated-thrust</property>
														</product>
													</difference>
													<property>/systems/fadec/limit/milthrust-no-density</property>
												</product>
												<pow>
													<quotient>
														<difference>
															<property>/systems/fadec/limit/takeoff-flex-table</property>
															<value>23.8</value>
														</difference>
														<value>87.6</value>
													</quotient>
													<value>2</value>
												</pow>
											</product>
										</sum>
										<!-- End calculate uncorrected thrust -->
										<quotient>
											<property>/systems/fadec/limit/derated-thrust</property>
											<property>/systems/fadec/limit/rated-thrust</property>
										</quotient>
									</product>
									<product>
										<property>propulsion/engine[0]/IdleThrust</property> <!-- It doesn't matter which engine, same for all -->
										<property>/systems/fadec/limit/rated-thrust</property>
									</product>
								</difference>
								<max> <!-- Prevent divide by 0 -->
									<product>
										<difference>
											<property>/systems/fadec/limit/rated-thrust</property>
											<product>
												<property>propulsion/engine[0]/IdleThrust</property> <!-- It doesn't matter which engine, same for all -->
												<property>/systems/fadec/limit/rated-thrust</property>
											</product>
										</difference>
										<property>/systems/fadec/limit/milthrust-no-density</property>
									</product>
									<value>0.00001</value>
								</max>
							</quotient>
						</sqrt>
						<value>87.6</value>
					</product>
					<value>23.8</value>
				</sum>
			</function>
		</fcs_function>
		
		<fcs_function name="/systems/fadec/limit/takeoff-flex-input">
			<function>
				<min> <!-- FLEX can not increase thrust past T/O -->
					<property>/systems/fadec/limit/takeoff-no-flex-input</property>
					<pow>
						<product>
							<sum>
								<ifthen> <!-- FLEX is disallowed in 62K mode, but I'm leaving the code in here anyway since removing it would only remove this ifthen, all the other above code is still required to compute 60K FLEX -->
									<eq>
										<property>/systems/fadec/limit/pw-derate</property>
										<value>1</value>
									</eq>
									<property>/systems/fadec/limit/takeoff-flex-derate</property>
									<property>/systems/fadec/limit/takeoff-flex-table</property>
								</ifthen>
								<table>
									<independentVar lookup="row">/systems/fms/flight-data/to-packs</independentVar>
									<tableData>
										0  0.0
										1 -0.4
									</tableData>
								</table>
							</sum>
							<property>/systems/fadec/limit/n1-epr-temp-factor</property>
						</product>
						<value>3.5</value>
					</pow>
				</min>
			</function>
		</fcs_function>
		
		<fcs_function name="/systems/fadec/limit/takeoff-flex-ref">
			<function>
				<sum>
					<product>
						<table>
							<independentVar lookup="row">/systems/fadec/limit/takeoff-flex-input</independentVar>
							<tableData>
								   65768.7  0.03
								14591440.5  1.00
								21887160.8  1.50
							</tableData>
						</table>
						<property>/systems/fadec/epr/c1</property>
					</product>
					<property>/systems/fadec/epr/c2</property>
				</sum>
			</function>
		</fcs_function>
		
		<fcs_function name="/systems/fadec/limit/takeoff-flex">
			<function>
				<quotient>
					<floor>
						<sum>
							<product>
								<property>/systems/fadec/limit/takeoff-flex-ref</property>
								<value>1000</value>
							</product>
							<value>0.5</value> <!-- Make it round correctly -->
						</sum>
					</floor>
					<value>1000</value>
				</quotient>
			</function>
		</fcs_function>
		
		<switch name="/systems/fadec/limit/takeoff">
			<default value="/systems/fadec/limit/takeoff-no-flex"/>
			<test value="/systems/fadec/limit/takeoff-flex">
				/systems/fms/flight-data/flex-active eq 1
			</test>
		</switch>
		
		<fcs_function name="/systems/fadec/limit/mct-table">
			<function>
				<table>
					<independentVar lookup="row">/position/altitude-ft</independentVar>
					<independentVar lookup="column">propulsion/tat-c</independentVar>
					<independentVar lookup="table">velocities/mach</independentVar>
					<tableData breakPoint="0.3">
						      -60   -30     0      30     60
						    0  84.7   90.1   95.2  100.2   96.8
						 5000  88.1   93.7   98.7  100.6   99.4
						10000  92.8   98.3  103.5  101.8  102.8
						15000  95.6  101.0  106.1  101.2  105.5
					</tableData>
					<tableData breakPoint="0.4">
						      -60   -30     0      30     60
						    0  84.1   89.5   94.5   99.4   97.1
						 5000  87.4   92.8   97.9  100.9   98.5
						10000  91.8   97.3  102.3  102.2  101.7
						15000  96.1  101.5  105.5  102.6  105.8
						20000  97.7  103.4  106.5  103.2  105.8
					</tableData>
					<tableData breakPoint="0.5">
						      -60   -30     0      30     60
						    0  83.4   88.6   93.7   98.4   97.7
						 5000  86.5   91.9   96.9  101.7   97.8
						10000  90.9   96.3  101.4  102.6  100.7
						15000  93.9   99.3  104.2  102.2  103.6
						20000  95.1  100.8  104.5  100.8  105.1
						25000  96.8  102.3  103.4  103.0  107.3
					</tableData>
					<tableData breakPoint="0.6">
						      -60   -30     0      30     60
						 5000  85.3   90.6   95.6  100.4   98.0
						10000  89.2   94.6   99.6  102.6   98.9
						15000  92.2   97.5  102.4  102.2  102.6
						20000  94.2   99.8  103.2  102.2  103.9
						25000  94.6  100.1  102.7  100.7  105.0
					</tableData>
					<tableData breakPoint="0.7">
						      -60   -30     0      30     60
						15000  89.6   94.9   99.7  101.8   98.9
						20000  92.0   97.6  101.8  102.1  101.6
						25000  92.1   97.5  102.4  101.4  102.2
						35000  96.1  101.5   99.7  100.9  104.0
						39000  96.0  101.3   98.7  100.8  103.8
						45000  97.1  101.4   98.1  100.5  103.3
					</tableData>
					<tableData breakPoint="0.8">
						      -60   -30    0      30     60
						20000  89.5  95.1  100.1  100.7   99.0
						25000  91.8  95.3   99.4   98.4   99.1
						35000  93.0  98.4   99.4   97.8  102.1
						39000  92.9  98.2   98.2   97.7  102.0
						45000  94.0  99.4   97.8   97.1  101.4
					</tableData>
				</table>
			</function>
		</fcs_function>
		
		<fcs_function name="/systems/fadec/limit/mct-input">
			<function>
				<pow>
					<product>
						<property>/systems/fadec/limit/mct-table</property>
						<property>/systems/fadec/limit/n1-epr-temp-factor</property>
					</product>
					<value>3.5</value>
				</pow>
			</function>
		</fcs_function>
		
		<fcs_function name="/systems/fadec/limit/mct-ref">
			<function>
				<sum>
					<product>
						<table>
							<independentVar lookup="row">/systems/fadec/limit/mct-input</independentVar>
							<tableData>
								   65768.7  0.03
								14591440.5  1.00
								21887160.8  1.50
							</tableData>
						</table>
						<property>/systems/fadec/epr/c1</property>
					</product>
					<property>/systems/fadec/epr/c2</property>
				</sum>
			</function>
		</fcs_function>
		
		<fcs_function name="/systems/fadec/limit/mct">
			<function>
				<quotient>
					<floor>
						<sum>
							<product>
								<property>/systems/fadec/limit/mct-ref</property>
								<value>1000</value>
							</product>
							<value>0.5</value> <!-- Make it round correctly -->
						</sum>
					</floor>
					<value>1000</value>
				</quotient>
			</function>
		</fcs_function>
		
		<fcs_function name="/systems/fadec/limit/climb-table">
			<function>
				<table>
					<independentVar lookup="row">/position/altitude-ft</independentVar>
					<independentVar lookup="column">propulsion/tat-c</independentVar>
					<independentVar lookup="table">velocities/mach</independentVar>
					<tableData breakPoint="0.4">
						      -60   -30    0      30     60
						 5000  83.8  89.2   94.2   97.5   95.2
						 8000  86.3  91.7   96.7   98.1   97.5
						10000  88.5  93.8   98.9   99.4   98.8
						14000  91.6  97.0  102.2  100.2  100.8
					</tableData>
					<tableData breakPoint="0.6">
						      -60   -30     0      30     60
						 5000  81.7   86.9   91.9   96.6   94.6
						10000  85.3   90.6   95.4   99.0   96.4
						14000  87.5   92.9   98.0   99.0   98.3
						20000  92.0   97.4  102.4   99.9  101.4
						25000  94.6  100.1  102.7  100.8  103.1
					</tableData>
					<tableData breakPoint="0.8">
						      -60   -30    0     30    60
						20000  87.2  92.5  97.5  98.8   97.6
						25000  89.0  94.4  99.4  97.5   99.1
						35000  93.0  98.4  99.4  97.8  100.2
						39000  92.9  98.2  98.2  97.7  100.1
						45000  94.0  99.4  97.3  97.1   99.8
					</tableData>
					<tableData breakPoint="0.85">
						      -60   -30    0     30    60
						25000  88.1  93.4  98.3  97.5  98.0
						35000  91.3  97.6  99.2  96.0  97.9
						39000  91.1  97.5  98.0  95.9  97.8
						45000  92.5  97.9  97.8  95.4  97.6
					</tableData>
					<tableData breakPoint="0.87">
						      -60   -30    0     30    60
						25000  87.7  93.0  98.0  97.5  97.7
						35000  90.7  97.2  99.1  95.2  96.9
						39000  90.4  97.2  98.0  95.2  96.8
						45000  92.0  97.3  97.5  94.8  96.6
					</tableData>
				</table>
			</function>
		</fcs_function>
		
		<fcs_function name="/systems/fadec/limit/climb-input">
			<function>
				<pow>
					<product>
						<property>/systems/fadec/limit/climb-table</property>
						<property>/systems/fadec/limit/n1-epr-temp-factor</property>
					</product>
					<value>3.5</value>
				</pow>
			</function>
		</fcs_function>
		
		<fcs_function name="/systems/fadec/limit/climb-ref">
			<function>
				<sum>
					<product>
						<table>
							<independentVar lookup="row">/systems/fadec/limit/climb-input</independentVar>
							<tableData>
								   65768.7  0.03
								14591440.5  1.00
								21887160.8  1.50
							</tableData>
						</table>
						<property>/systems/fadec/epr/c1</property>
					</product>
					<property>/systems/fadec/epr/c2</property>
				</sum>
			</function>
		</fcs_function>
		
		<fcs_function name="/systems/fadec/limit/climb">
			<function>
				<quotient>
					<floor>
						<sum>
							<product>
								<property>/systems/fadec/limit/climb-ref</property>
								<value>1000</value>
							</product>
							<value>0.5</value> <!-- Make it round correctly -->
						</sum>
					</floor>
					<value>1000</value>
				</quotient>
			</function>
		</fcs_function>
		
		<fcs_function name="/systems/fadec/limit/cruise-table">
			<function>
				<table>
					<independentVar lookup="row">/position/altitude-ft</independentVar>
					<independentVar lookup="column">propulsion/tat-c</independentVar>
					<independentVar lookup="table">velocities/mach</independentVar>
					<tableData breakPoint="0.4">
						      -60   -30    0     30    60
						 5000  79.0  84.1  89.0  92.1  89.7
						10000  82.8  88.1  93.0  93.5  93.8
						14000  86.2  91.5  96.6  94.7  96.1
						20000  90.9  96.4  99.2  97.4  99.5
					</tableData>
					<tableData breakPoint="0.6">
						      -60   -30    0     30    60
						 5000  76.8  81.8  86.6  91.1  89.2
						10000  79.9  85.1  89.9  93.4  90.9
						14000  82.3  87.5  92.4  93.5  93.0
						20000  86.7  92.0  97.0  95.3  94.2
						25000  90.4  95.9  98.2  95.6  94.1
						30000  94.2  99.7  98.5  98.4  97.0
					</tableData>
					<tableData breakPoint="0.8">
						      -60   -30    0     30    60
						20000  81.9  87.1  92.0  93.1  92.0
						25000  84.7  90.0  94.0  92.5  91.9
						35000  88.8  94.1  95.0  93.0  91.5
						39000  90.8  95.2  95.9  93.1  91.6
						45000  92.3  96.6  96.6  93.3  92.7
					</tableData>
					<tableData breakPoint="0.85">
						      -60   -30    0     30    60
						25000  83.6  88.8  93.7  92.4  91.7
						35000  87.3  93.5  94.0  91.4  90.9
						39000  90.1  94.6  94.9  92.4  91.8
						45000  91.8  95.5  95.6  92.7  92.1
					</tableData>
					<tableData breakPoint="0.87">
						      -60   -30    0     30    60
						25000  83.1  88.3  93.7  92.4  91.6
						35000  86.7  93.2  93.7  90.8  90.6
						39000  89.8  94.4  94.5  92.2  91.9
						45000  91.6  95.2  95.2  92.5  91.8
					</tableData>
				</table>
			</function>
		</fcs_function>
		
		<fcs_function name="/systems/fadec/limit/cruise-input">
			<function>
				<pow>
					<product>
						<property>/systems/fadec/limit/cruise-table</property>
						<property>/systems/fadec/limit/n1-epr-temp-factor</property>
					</product>
					<value>3.5</value>
				</pow>
			</function>
		</fcs_function>
		
		<fcs_function name="/systems/fadec/limit/cruise-ref">
			<function>
				<sum>
					<product>
						<table>
							<independentVar lookup="row">/systems/fadec/limit/cruise-input</independentVar>
							<tableData>
								   65768.7  0.03
								14591440.5  1.00
								21887160.8  1.50
							</tableData>
						</table>
						<property>/systems/fadec/epr/c1</property>
					</product>
					<property>/systems/fadec/epr/c2</property>
				</sum>
			</function>
		</fcs_function>
		
		<fcs_function name="/systems/fadec/limit/cruise">
			<function>
				<quotient>
					<floor>
						<sum>
							<product>
								<property>/systems/fadec/limit/cruise-ref</property>
								<value>1000</value>
							</product>
							<value>0.5</value> <!-- Make it round correctly -->
						</sum>
					</floor>
					<value>1000</value>
				</quotient>
			</function>
		</fcs_function>
		
		<switch name="/systems/fadec/limit/active">
			<default value="2"/>
			<test value="/systems/fadec/limit/takeoff">
				/systems/fadec/limit/active-mode-int eq 0
			</test>
			<test value="/systems/fadec/limit/go-around">
				/systems/fadec/limit/active-mode-int eq 1
			</test>
			<test value="/systems/fadec/limit/mct">
				/systems/fadec/limit/active-mode-int eq 2
			</test>
			<test value="/systems/fadec/limit/climb">
				/systems/fadec/limit/active-mode-int eq 3
			</test>
			<test value="/systems/fadec/limit/cruise">
				/systems/fadec/limit/active-mode-int eq 4
			</test>
		</switch>
		
		<fcs_function name="/systems/fadec/limit/active-norm-ref"> <!-- Opposite of EPR Calc -->
			<function>
				<quotient>
					<difference>
						<property>/systems/fadec/limit/active</property>
						<property>/systems/fadec/epr/c2</property>
					</difference>
					<max> <!-- Prevent divide by 0 -->
						<property>/systems/fadec/epr/c1</property>
						<value>0.001</value>
					</max>
				</quotient>
			</function>
		</fcs_function>
		
		<fcs_function name="/systems/fadec/limit/active-norm-input"> <!-- Opposite of EPR Calc -->
			<function>
				<quotient>
					<pow>
						<table>
							<independentVar lookup="row">/systems/fadec/limit/active-norm-ref</independentVar>
							<tableData>
								0.03     65768.7
								1.00  14591440.5
								1.50  21887160.8
							</tableData>
						</table>
						<quotient>
							<value>1</value>
							<value>3.5</value>
						</quotient>
					</pow>
					<property>/systems/fadec/limit/n1-epr-temp-factor</property>
				</quotient>
			</function>
		</fcs_function>
		
		<fcs_function name="/systems/fadec/limit/active-norm">
			<function>
				<table>
					<independentVar lookup="row">/systems/fadec/limit/active-norm-input</independentVar>
					<tableData>
						 23.8  0
						111.4  1
					</tableData>
				</table>
			</function>
		</fcs_function>
		
		<fcs_function name="/systems/fadec/limit/max">
			<function>
				<ifthen> <!-- When in takeoff, enforce takeoff, else take highest -->
					<eq>
						<property>/systems/fadec/limit/active-mode-int</property>
						<value>0</value>
					</eq>
					<property>/systems/fadec/limit/takeoff-no-flex</property>
					<max> <!-- MCT is always higher than CLB or CRZ, so we don't need to check them -->
						<property>/systems/fadec/limit/go-around</property>
						<property>/systems/fadec/limit/mct</property>
					</max>
				</ifthen>
			</function>
		</fcs_function>
		
		<fcs_function name="/systems/fadec/limit/max-norm-ref"> <!-- Opposite of EPR Calc -->
			<function>
				<quotient>
					<difference>
						<property>/systems/fadec/limit/max</property>
						<property>/systems/fadec/epr/c2</property>
					</difference>
					<max> <!-- Prevent divide by 0 -->
						<property>/systems/fadec/epr/c1</property>
						<value>0.001</value>
					</max>
				</quotient>
			</function>
		</fcs_function>
		
		<fcs_function name="/systems/fadec/limit/max-norm-input"> <!-- Opposite of EPR Calc -->
			<function>
				<quotient>
					<pow>
						<table>
							<independentVar lookup="row">/systems/fadec/limit/max-norm-ref</independentVar>
							<tableData>
								0.03     65768.7
								1.00  14591440.5
								1.50  21887160.8
							</tableData>
						</table>
						<quotient>
							<value>1</value>
							<value>3.5</value>
						</quotient>
					</pow>
					<property>/systems/fadec/limit/n1-epr-temp-factor</property>
				</quotient>
			</function>
		</fcs_function>
		
		<fcs_function name="/systems/fadec/limit/max-norm">
			<function>
				<table>
					<independentVar lookup="row">/systems/fadec/limit/max-norm-input</independentVar>
					<tableData>
						 23.8  0
						111.4  1
					</tableData>
				</table>
			</function>
		</fcs_function>
		
		<switch name="/systems/fadec/limit/approach-idle">
			<default value="0"/>
			<test logic="AND" value="1">
				position/wow eq 0
				/systems/fcs/flaps/input ge 1
			</test>
		</switch>
		
		<fcs_function name="/systems/fadec/limit/idle-table"> <!-- Idle speed governor is N1 based -->
			<function>
				<table>
					<independentVar lookup="row">velocities/mach</independentVar>
					<independentVar lookup="column">/systems/fadec/limit/approach-idle</independentVar>
					<independentVar lookup="table">/position/altitude-ft</independentVar>
					<tableData breakPoint="0">
						      0     1
						0.08  23.8  23.8
						0.21  29.9  36.5
						0.70  38.5  43.3
					</tableData>
					<tableData breakPoint="45000">
						      0     1
						0.08  23.8  23.8
						0.21  29.9  36.5
						0.55  48.5  54.9
						0.90  54.6  56.9
					</tableData>
				</table>
			</function>
		</fcs_function>
		
		<fcs_function name="/systems/fadec/limit/idle">
			<function>
				<quotient>
					<floor>
						<sum>
							<product>
								<property>/systems/fadec/limit/idle-table</property>
								<value>10</value>
							</product>
							<value>0.5</value> <!-- Make it round correctly -->
						</sum>
					</floor>
					<value>10</value>
				</quotient>
			</function>
		</fcs_function>
		
		<fcs_function name="/systems/fadec/limit/idle-norm">
			<function>
				<table>
					<independentVar lookup="row">/systems/fadec/limit/idle</independentVar>
					<tableData>
						 23.8  0
						111.4  1
					</tableData>
				</table>
			</function>
		</fcs_function>
	
	</channel>
	
	<channel name="Reversers">
		
		<!-- Engine 1 -->
		<switch name="/systems/fadec/reverse-1/position-cmd">
			<default value="0"/>
			<test value="1">
				/systems/fadec/reverse-1/engage eq 1
			</test>
			<test logic="AND" value="1"> <!-- Don't stow until thrust is reduced enough -->
				/engines/engine[0]/n1-actual ge 40
				/systems/fadec/reverse-1/position-cmd eq 1
			</test>
			<output>/systems/fadec/reverse-1/position-cmd-out</output>
		</switch>
		
		<switch name="/systems/fadec/reverse-1/position-rate">
			<default value="0"/>
			<test logic="OR" value="1">
				/systems/hydraulics/sys-1-psi ge 2200
				/systems/acconfig/autoconfig-running eq 1
			</test>
		</switch>
		
		<actuator name="/systems/fadec/reverse-1/position-norm">
			<input>/systems/fadec/reverse-1/position-cmd</input>
			<rate_limit>/systems/fadec/reverse-1/position-rate</rate_limit>
			<output>/engines/engine[0]/reverser-pos-norm</output>
		</actuator>
		
		<pure_gain name="propulsion/engine[0]/reverser-angle-rad">
			<input>/systems/fadec/reverse-1/position-norm</input>
			<gain>3.14</gain>
		</pure_gain>
		
		<switch name="/systems/fadec/reverse-1/interlock"> <!-- Locked until 87% open, unlocked until 20% closed -->
			<default value="/systems/fadec/reverse-1/interlock"/>
			<test value="0">
				/systems/fadec/reverse-1/position-norm ge 0.87
			</test>
			<test value="1">
				/systems/fadec/reverse-1/position-norm le 0.2
			</test>
		</switch>
		
		<fcs_function name="/systems/fadec/reverse-1/throttle-rev-cmd">
			<function>
				<ifthen>
					<eq>
						<property>/systems/fadec/reverse-1/interlock</property>
						<value>0</value>
					</eq>
					<table>
						<independentVar lookup="row">/controls/engines/engine[0]/throttle</independentVar>
						<tableData>
							0.05  0.05
							1.00  0.84
						</tableData>
					</table>
					<value>0</value>
				</ifthen>
			</function>
		</fcs_function>
		
		<fcs_function name="/systems/fadec/reverse-1/throttle-lever">
			<function>
				<product>
					<property>/systems/fadec/reverse-1/engage</property>
					<table>
						<independentVar lookup="row">/systems/fadec/reverse-1/throttle-rev-cmd</independentVar>
						<tableData>
							0.05  0.25
							0.84  1.00
						</tableData>
					</table>
				</product>
			</function>
		</fcs_function>
		
		<switch name="/systems/fadec/reverse-1/throttle-rev">
			<default value="0"/>
			<test value="/systems/fadec/reverse-1/throttle-rev-cmd">
				/systems/fadec/reverse-1/engage eq 1
			</test>
			<clipto>
				<min>0.05</min>
				<max>1.0</max>
			</clipto>
		</switch>
		
		<switch name="/systems/fadec/reverse-1/active">
			<default value="0"/>
			<test logic="OR" value="1">
				/systems/fadec/reverse-1/position-cmd eq 1
				/systems/fadec/reverse-1/position-norm ne 0
			</test>
		</switch>
		
		<!-- Engine 2 -->
		<switch name="/systems/fadec/reverse-2/position-cmd">
			<default value="0"/>
			<test value="1">
				/systems/fadec/reverse-2/engage eq 1
			</test>
			<test logic="AND" value="1"> <!-- Don't stow until thrust is reduced enough -->
				/engines/engine[1]/n1-actual ge 40
				/systems/fadec/reverse-2/position-cmd eq 1
			</test>
			<output>/systems/fadec/reverse-2/position-cmd-out</output>
		</switch>
		
		<switch name="/systems/fadec/reverse-2/position-cmd-wow">
			<default value="/systems/fadec/reverse-2/position-cmd"/>
			<test logic="AND" value="0">
				/gear/gear[0]/wow ne 1
				/systems/fadec/reverse-2/position-cmd-wow eq 0
			</test>
		</switch>
		
		<switch name="/systems/fadec/reverse-2/position-rate">
			<default value="0"/>
			<test logic="OR" value="1">
				/systems/hydraulics/sys-2-psi ge 2200
				/systems/acconfig/autoconfig-running eq 1
			</test>
		</switch>
		
		<actuator name="/systems/fadec/reverse-2/position-norm">
			<input>/systems/fadec/reverse-2/position-cmd-wow</input>
			<rate_limit>/systems/fadec/reverse-2/position-rate</rate_limit>
			<output>/engines/engine[1]/reverser-pos-norm</output>
		</actuator>
		
		<pure_gain name="propulsion/engine[1]/reverser-angle-rad">
			<input>/systems/fadec/reverse-2/position-norm</input>
			<gain>3.14</gain>
		</pure_gain>
		
		<switch name="/systems/fadec/reverse-2/interlock"> <!-- Locked until 90% open -->
			<default value="1"/>
			<test value="0">
				/systems/fadec/reverse-2/position-norm ge 0.9
			</test>
		</switch>
		
		<fcs_function name="/systems/fadec/reverse-2/throttle-rev-cmd">
			<function>
				<ifthen>
					<or> <!-- No physical interlock, so we pretend the pilot moves all levers together -->
						<eq>
							<property>/systems/fadec/reverse-1/interlock</property>
							<value>0</value>
						</eq>
						<eq>
							<property>/systems/fadec/reverse-2/interlock</property>
							<value>0</value>
						</eq>
						<eq>
							<property>/systems/fadec/reverse-3/interlock</property>
							<value>0</value>
						</eq>
					</or>
					<table>
						<independentVar lookup="row">/controls/engines/engine[1]/throttle</independentVar>
						<tableData>
							0.05  0.05
							1.00  0.84
						</tableData>
					</table>
					<value>0</value>
				</ifthen>
			</function>
		</fcs_function>
		
		<fcs_function name="/systems/fadec/reverse-2/throttle-lever">
			<function>
				<product>
					<property>/systems/fadec/reverse-2/engage</property>
					<table>
						<independentVar lookup="row">/systems/fadec/reverse-2/throttle-rev-cmd</independentVar>
						<tableData>
							0.05  0.25
							0.84  1.00
						</tableData>
					</table>
				</product>
			</function>
		</fcs_function>
		
		<switch name="/systems/fadec/reverse-2/throttle-rev">
			<default value="0"/>
			<test value="0"> <!-- Software interlock -->
				/systems/fadec/reverse-2/interlock eq 1
			</test>
			<test value="/systems/fadec/reverse-2/throttle-rev-cmd">
				/systems/fadec/reverse-2/engage eq 1
			</test>
			<clipto>
				<min>0.05</min>
				<max>1.0</max>
			</clipto>
		</switch>
		
		<switch name="/systems/fadec/reverse-2/active">
			<default value="0"/>
			<test logic="OR" value="1">
				/systems/fadec/reverse-2/position-cmd eq 1
				/systems/fadec/reverse-2/position-norm ne 0
			</test>
		</switch>
		
		<!-- Engine 3 -->
		<switch name="/systems/fadec/reverse-3/position-cmd">
			<default value="0"/>
			<test value="1">
				/systems/fadec/reverse-3/engage eq 1
			</test>
			<test logic="AND" value="1"> <!-- Don't stow until thrust is reduced enough -->
				/engines/engine[2]/n1-actual ge 40
				/systems/fadec/reverse-3/position-cmd eq 1
			</test>
			<output>/systems/fadec/reverse-3/position-cmd-out</output>
		</switch>
		
		<switch name="/systems/fadec/reverse-3/position-rate">
			<default value="0"/>
			<test logic="OR" value="1">
				/systems/hydraulics/sys-3-psi ge 2200
				/systems/acconfig/autoconfig-running eq 1
			</test>
		</switch>
		
		<actuator name="/systems/fadec/reverse-3/position-norm">
			<input>/systems/fadec/reverse-3/position-cmd</input>
			<rate_limit>/systems/fadec/reverse-3/position-rate</rate_limit>
			<output>/engines/engine[2]/reverser-pos-norm</output>
		</actuator>
		
		<pure_gain name="propulsion/engine[2]/reverser-angle-rad">
			<input>/systems/fadec/reverse-3/position-norm</input>
			<gain>3.14</gain>
		</pure_gain>
		
		<switch name="/systems/fadec/reverse-3/interlock"> <!-- Locked until 87% open, unlocked until 20% closed -->
			<default value="/systems/fadec/reverse-3/interlock"/>
			<test value="0">
				/systems/fadec/reverse-3/position-norm ge 0.87
			</test>
			<test value="1">
				/systems/fadec/reverse-3/position-norm le 0.2
			</test>
		</switch>
		
		<fcs_function name="/systems/fadec/reverse-3/throttle-rev-cmd">
			<function>
				<ifthen>
					<eq>
						<property>/systems/fadec/reverse-3/interlock</property>
						<value>0</value>
					</eq>
					<table>
						<independentVar lookup="row">/controls/engines/engine[2]/throttle</independentVar>
						<tableData>
							0.05  0.05
							1.00  0.84
						</tableData>
					</table>
					<value>0</value>
				</ifthen>
			</function>
		</fcs_function>
		
		<fcs_function name="/systems/fadec/reverse-3/throttle-lever">
			<function>
				<product>
					<property>/systems/fadec/reverse-3/engage</property>
					<table>
						<independentVar lookup="row">/systems/fadec/reverse-3/throttle-rev-cmd</independentVar>
						<tableData>
							0.05  0.25
							0.84  1.00
						</tableData>
					</table>
				</product>
			</function>
		</fcs_function>
		
		<switch name="/systems/fadec/reverse-3/throttle-rev">
			<default value="0"/>
			<test value="/systems/fadec/reverse-3/throttle-rev-cmd">
				/systems/fadec/reverse-3/engage eq 1
			</test>
			<clipto>
				<min>0.05</min>
				<max>1.0</max>
			</clipto>
		</switch>
		
		<switch name="/systems/fadec/reverse-3/active">
			<default value="0"/>
			<test logic="OR" value="1">
				/systems/fadec/reverse-3/position-cmd eq 1
				/systems/fadec/reverse-3/position-norm ne 0
			</test>
		</switch>
	
	</channel>
	
	<channel name="Engine Control">
		
		<!-- Engine 1 -->
		<switch name="/systems/fadec/control-1/n1-mode">
			<default value="0"/>
			<test value="1">
				/controls/fadec/altn-1 eq 1
			</test>
		</switch>
		
		<switch name="/systems/fadec/control-1/max">
			<default value="/systems/fadec/limit/max-norm"/>
			<test value="1">
				/systems/fadec/control-1/n1-mode eq 1
			</test>
		</switch>
		
		<switch name="/systems/fadec/control-1/min">
			<default value="/systems/fadec/limit/idle-norm"/>
			<test value="0"> <!-- Idle schedule is by N1, so don't use n1-mode here -->
				/controls/fadec/altn-1 eq 1
			</test>
		</switch>
		
		<switch name="/systems/fadec/control-1/throttle-pos">
			<default value="/controls/engines/engine[0]/throttle"/>
			<test value="0">
				/systems/fadec/reverse-1/active eq 1
			</test>
			<test logic="AND" value="/systems/fadec/ats-cmd-1">
				/it-autoflight/output/athr eq 1
				/it-autoflight/output/clamp eq 0
			</test>
		</switch>
		
		<lag_filter name="/systems/fadec/control-1/throttle-pos-lag">
			<input>/systems/fadec/control-1/throttle-pos</input>
			<c1>20</c1>
		</lag_filter>
		
		<switch name="/systems/fadec/control-1/throttle-cmd">
			<default value="/systems/fadec/control-1/throttle-pos"/>
			<test value="/systems/fadec/reverse-1/throttle-rev">
				/systems/fadec/reverse-1/active eq 1
			</test>
			<clipto>
				<min>0.0</min> <!-- Intentional -->
				<max>/systems/fadec/control-1/max</max>
			</clipto>
		</switch>
		
		<lag_filter name="/systems/fadec/control-1/throttle-lag">
			<input>/systems/fadec/control-1/throttle-cmd</input>
			<c1>20</c1>
		</lag_filter>
		
		<fcs_function name="/systems/fadec/control-1/throttle-ref">
			<function>
				<pow>
					<product>
						<table>
							<independentVar lookup="row">/systems/fadec/control-1/throttle-lag</independentVar>
							<tableData>
								0   23.8
								1  111.4
							</tableData>
						</table>
						<property>/systems/fadec/limit/n1-epr-temp-factor</property>
					</product>
					<value>3.5</value>
				</pow>
			</function>
		</fcs_function>
		
		<fcs_function name="/systems/fadec/control-1/throttle-epr">
			<function>
				<sum>
					<product>
						<table>
							<independentVar lookup="row">/systems/fadec/control-1/throttle-ref</independentVar>
							<tableData>
								   65768.7  0.03
								14591440.5  1.00
								21887160.8  1.50
							</tableData>
						</table>
						<property>/systems/fadec/epr/c1</property>
					</product>
					<property>/systems/fadec/epr/c2</property>
				</sum>
			</function>
		</fcs_function>
		
		<pure_gain name="/systems/fadec/control-1/throttle-pos-clamped">
			<input>/systems/fadec/control-1/throttle-pos</input>
			<gain>1.0</gain>
			<clipto>
				<min>/systems/fadec/control-1/min</min>
				<max>/systems/fadec/control-1/max</max>
			</clipto>
		</pure_gain>
		
		<switch name="/systems/fadec/control-1/throttle-output">
			<default value="/systems/fadec/control-1/throttle-pos-clamped"/>
			<test value="/systems/fadec/reverse-1/throttle-rev">
				/systems/fadec/reverse-1/active eq 1
			</test>
			<clipto>
				<min>/systems/fadec/control-1/min</min>
				<max>1.0</max> <!-- Intentional -->
			</clipto>
		</switch>
		
		<lag_filter name="/systems/fadec/control-1/throttle-fdm">
			<input>/systems/fadec/control-1/throttle-output</input>
			<c1>0.75</c1>
			<output>fcs/throttle-pos-norm[0]</output>
		</lag_filter>
		
		<!-- Engine 2 -->
		<switch name="/systems/fadec/control-2/n1-mode">
			<default value="0"/>
			<test value="1">
				/controls/fadec/altn-2 eq 1
			</test>
		</switch>
		
		<switch name="/systems/fadec/control-2/max">
			<default value="/systems/fadec/limit/max-norm"/>
			<test value="1">
				/systems/fadec/control-2/n1-mode eq 1
			</test>
		</switch>
		
		<switch name="/systems/fadec/control-2/min">
			<default value="/systems/fadec/limit/idle-norm"/>
			<test value="0"> <!-- Idle schedule is by N1, so don't use n1-mode here -->
				/controls/fadec/altn-2 eq 1
			</test>
		</switch>
		
		<switch name="/systems/fadec/control-2/throttle-pos">
			<default value="/controls/engines/engine[1]/throttle"/>
			<test value="0">
				/systems/fadec/reverse-2/active eq 1
			</test>
			<test logic="AND" value="/systems/fadec/ats-cmd-2">
				/it-autoflight/output/athr eq 1
				/it-autoflight/output/clamp eq 0
			</test>
		</switch>
		
		<lag_filter name="/systems/fadec/control-2/throttle-pos-lag">
			<input>/systems/fadec/control-2/throttle-pos</input>
			<c1>20</c1>
		</lag_filter>
		
		<switch name="/systems/fadec/control-2/throttle-cmd">
			<default value="/systems/fadec/control-2/throttle-pos"/>
			<test value="/systems/fadec/reverse-2/throttle-rev">
				/systems/fadec/reverse-2/active eq 1
			</test>
			<clipto>
				<min>0.0</min> <!-- Intentional -->
				<max>/systems/fadec/control-2/max</max>
			</clipto>
		</switch>
		
		<lag_filter name="/systems/fadec/control-2/throttle-lag">
			<input>/systems/fadec/control-2/throttle-cmd</input>
			<c1>20</c1>
		</lag_filter>
		
		<fcs_function name="/systems/fadec/control-2/throttle-ref">
			<function>
				<pow>
					<product>
						<table>
							<independentVar lookup="row">/systems/fadec/control-2/throttle-lag</independentVar>
							<tableData>
								0   23.8
								1  111.4
							</tableData>
						</table>
						<property>/systems/fadec/limit/n1-epr-temp-factor</property>
					</product>
					<value>3.5</value>
				</pow>
			</function>
		</fcs_function>
		
		<fcs_function name="/systems/fadec/control-2/throttle-epr">
			<function>
				<sum>
					<product>
						<table>
							<independentVar lookup="row">/systems/fadec/control-2/throttle-ref</independentVar>
							<tableData>
								   65768.7  0.03
								14591440.5  1.00
								21887160.8  1.50
							</tableData>
						</table>
						<property>/systems/fadec/epr/c1</property>
					</product>
					<property>/systems/fadec/epr/c2</property>
				</sum>
			</function>
		</fcs_function>
		
		<pure_gain name="/systems/fadec/control-2/throttle-pos-clamped">
			<input>/systems/fadec/control-2/throttle-pos</input>
			<gain>1.0</gain>
			<clipto>
				<min>/systems/fadec/control-2/min</min>
				<max>/systems/fadec/control-2/max</max>
			</clipto>
		</pure_gain>
		
		<switch name="/systems/fadec/control-2/throttle-output">
			<default value="/systems/fadec/control-2/throttle-pos-clamped"/>
			<test value="/systems/fadec/reverse-2/throttle-rev">
				/systems/fadec/reverse-2/active eq 1
			</test>
			<clipto>
				<min>/systems/fadec/control-2/min</min>
				<max>1.0</max> <!-- Intentional -->
			</clipto>
		</switch>
		
		<lag_filter name="/systems/fadec/control-2/throttle-fdm">
			<input>/systems/fadec/control-2/throttle-output</input>
			<c1>0.75</c1>
			<output>fcs/throttle-pos-norm[1]</output>
		</lag_filter>
		
		<!-- Engine 3 -->
		<switch name="/systems/fadec/control-3/n1-mode">
			<default value="0"/>
			<test value="1">
				/controls/fadec/altn-3 eq 1
			</test>
		</switch>
		
		<switch name="/systems/fadec/control-3/max">
			<default value="/systems/fadec/limit/max-norm"/>
			<test value="1">
				/systems/fadec/control-3/n1-mode eq 1
			</test>
		</switch>
		
		<switch name="/systems/fadec/control-3/min">
			<default value="/systems/fadec/limit/idle-norm"/>
			<test value="0"> <!-- Idle schedule is by N1, so don't use n1-mode here -->
				/controls/fadec/altn-3 eq 1
			</test>
		</switch>
		
		<switch name="/systems/fadec/control-3/throttle-pos">
			<default value="/controls/engines/engine[2]/throttle"/>
			<test value="0">
				/systems/fadec/reverse-3/active eq 1
			</test>
			<test logic="AND" value="/systems/fadec/ats-cmd-3">
				/it-autoflight/output/athr eq 1
				/it-autoflight/output/clamp eq 0
			</test>
		</switch>
		
		<lag_filter name="/systems/fadec/control-3/throttle-pos-lag">
			<input>/systems/fadec/control-3/throttle-pos</input>
			<c1>20</c1>
		</lag_filter>
		
		<switch name="/systems/fadec/control-3/throttle-cmd">
			<default value="/systems/fadec/control-3/throttle-pos"/>
			<test value="/systems/fadec/reverse-3/throttle-rev">
				/systems/fadec/reverse-3/active eq 1
			</test>
			<clipto>
				<min>0.0</min> <!-- Intentional -->
				<max>/systems/fadec/control-3/max</max>
			</clipto>
		</switch>
		
		<lag_filter name="/systems/fadec/control-3/throttle-lag">
			<input>/systems/fadec/control-3/throttle-cmd</input>
			<c1>20</c1>
		</lag_filter>
		
		<fcs_function name="/systems/fadec/control-3/throttle-ref">
			<function>
				<pow>
					<product>
						<table>
							<independentVar lookup="row">/systems/fadec/control-3/throttle-lag</independentVar>
							<tableData>
								0   23.8
								1  111.4
							</tableData>
						</table>
						<property>/systems/fadec/limit/n1-epr-temp-factor</property>
					</product>
					<value>3.5</value>
				</pow>
			</function>
		</fcs_function>
		
		<fcs_function name="/systems/fadec/control-3/throttle-epr">
			<function>
				<sum>
					<product>
						<table>
							<independentVar lookup="row">/systems/fadec/control-3/throttle-ref</independentVar>
							<tableData>
								   65768.7  0.03
								14591440.5  1.00
								21887160.8  1.50
							</tableData>
						</table>
						<property>/systems/fadec/epr/c1</property>
					</product>
					<property>/systems/fadec/epr/c2</property>
				</sum>
			</function>
		</fcs_function>
		
		<pure_gain name="/systems/fadec/control-3/throttle-pos-clamped">
			<input>/systems/fadec/control-3/throttle-pos</input>
			<gain>1.0</gain>
			<clipto>
				<min>/systems/fadec/control-3/min</min>
				<max>/systems/fadec/control-3/max</max>
			</clipto>
		</pure_gain>
		
		<switch name="/systems/fadec/control-3/throttle-output">
			<default value="/systems/fadec/control-3/throttle-pos-clamped"/>
			<test value="/systems/fadec/reverse-3/throttle-rev">
				/systems/fadec/reverse-3/active eq 1
			</test>
			<clipto>
				<min>/systems/fadec/control-3/min</min>
				<max>1.0</max> <!-- Intentional -->
			</clipto>
		</switch>
		
		<lag_filter name="/systems/fadec/control-3/throttle-fdm">
			<input>/systems/fadec/control-3/throttle-output</input>
			<c1>0.75</c1>
			<output>fcs/throttle-pos-norm[2]</output>
		</lag_filter>
		
		<!-- Comparator -->
		<fcs_function name="/systems/fadec/throttle-compare-max">
			<function>
				<max> <!-- Don't use clipped -->
					<property>/systems/fadec/control-1/throttle-pos-lag</property>
					<property>/systems/fadec/control-2/throttle-pos-lag</property>
					<property>/systems/fadec/control-3/throttle-pos-lag</property>
				</max>
			</function>
		</fcs_function>
	
	</channel>
	
	<channel name="Engine Parameters" execrate="2">
		
		<lag_filter name="/systems/fadec/n1-actual-1">
			<input>/engines/engine[0]/n1</input>
			<c1>2.25</c1>
			<output>/engines/engine[0]/n1-actual</output>
			<output>/engines/engine[4]/n1</output>
		</lag_filter>
		
		<lag_filter name="/systems/fadec/n1-actual-2">
			<input>/engines/engine[1]/n1</input>
			<c1>2.25</c1>
			<output>/engines/engine[1]/n1-actual</output>
			<output>/engines/engine[5]/n1</output>
		</lag_filter>
		
		<lag_filter name="/systems/fadec/n1-actual-3">
			<input>/engines/engine[2]/n1</input>
			<c1>2.25</c1>
			<output>/engines/engine[2]/n1-actual</output>
			<output>/engines/engine[6]/n1</output>
		</lag_filter>
		
		<fcs_function name="/systems/fadec/epr-actual-1-ref">
			<function>
				<pow>
					<product>
						<property>/systems/fadec/n1-actual-1</property>
						<property>/systems/fadec/limit/n1-epr-temp-factor</property>
					</product>
					<value>3.5</value>
				</pow>
			</function>
		</fcs_function>
		
		<fcs_function name="/systems/fadec/epr-actual-1-calc">
			<function>
				<sum>
					<product>
						<table>
							<independentVar lookup="row">/systems/fadec/epr-actual-1-ref</independentVar>
							<tableData>
								   65768.7  0.03
								14591440.5  1.00
								21887160.8  1.50
							</tableData>
						</table>
						<property>/systems/fadec/epr/c1</property>
					</product>
					<property>/systems/fadec/epr/c2</property>
				</sum>
			</function>
		</fcs_function>
		
		<fcs_function name="/systems/fadec/epr-actual-1">
			<function>
				<interpolate1d>
					<property>/systems/fadec/n1-actual-1</property>
					<value>5</value><interpolate1d> <!-- Eng off EPR -->
						<property>velocities/mach</property>
						<value>0.09</value><value>1</value>
						<value>0.15</value><property>/systems/fadec/epr/c2</property>
					</interpolate1d>
					<value>23.8</value><property>/systems/fadec/epr-actual-1-calc</property>
				</interpolate1d>
			</function>
			<output>/engines/engine[0]/epr-actual</output>
		</fcs_function>
		
		<fcs_function name="/systems/fadec/epr-actual-2-ref">
			<function>
				<pow>
					<product>
						<property>/systems/fadec/n1-actual-2</property>
						<property>/systems/fadec/limit/n1-epr-temp-factor</property>
					</product>
					<value>3.5</value>
				</pow>
			</function>
		</fcs_function>
		
		<fcs_function name="/systems/fadec/epr-actual-2-calc">
			<function>
				<sum>
					<product>
						<table>
							<independentVar lookup="row">/systems/fadec/epr-actual-2-ref</independentVar>
							<tableData>
								   65768.7  0.03
								14591440.5  1.00
								21887160.8  1.50
							</tableData>
						</table>
						<property>/systems/fadec/epr/c1</property>
					</product>
					<property>/systems/fadec/epr/c2</property>
				</sum>
			</function>
		</fcs_function>
		
		<fcs_function name="/systems/fadec/epr-actual-2">
			<function>
				<interpolate1d>
					<property>/systems/fadec/n1-actual-2</property>
					<value>5</value><interpolate1d> <!-- Eng off EPR -->
						<property>velocities/mach</property>
						<value>0.09</value><value>1</value>
						<value>0.15</value><property>/systems/fadec/epr/c2</property>
					</interpolate1d>
					<value>23.8</value><property>/systems/fadec/epr-actual-2-calc</property>
				</interpolate1d>
			</function>
			<output>/engines/engine[1]/epr-actual</output>
		</fcs_function>
		
		<fcs_function name="/systems/fadec/epr-actual-3-ref">
			<function>
				<pow>
					<product>
						<property>/systems/fadec/n1-actual-3</property>
						<property>/systems/fadec/limit/n1-epr-temp-factor</property>
					</product>
					<value>3.5</value>
				</pow>
			</function>
		</fcs_function>
		
		<fcs_function name="/systems/fadec/epr-actual-3-calc">
			<function>
				<sum>
					<product>
						<table>
							<independentVar lookup="row">/systems/fadec/epr-actual-3-ref</independentVar>
							<tableData>
								   65768.7  0.03
								14591440.5  1.00
								21887160.8  1.50
							</tableData>
						</table>
						<property>/systems/fadec/epr/c1</property>
					</product>
					<property>/systems/fadec/epr/c2</property>
				</sum>
			</function>
		</fcs_function>
		
		<fcs_function name="/systems/fadec/epr-actual-3">
			<function>
				<interpolate1d>
					<property>/systems/fadec/n1-actual-3</property>
					<value>5</value><interpolate1d> <!-- Eng off EPR -->
						<property>velocities/mach</property>
						<value>0.09</value><value>1</value>
						<value>0.15</value><property>/systems/fadec/epr/c2</property>
					</interpolate1d>
					<value>23.8</value><property>/systems/fadec/epr-actual-3-calc</property>
				</interpolate1d>
			</function>
			<output>/engines/engine[2]/epr-actual</output>
		</fcs_function>
		
		<fcs_function name="/systems/fadec/egt-cmd-1">
			<function>
				<sum>
					<property>propulsion/tat-c</property>
					<table>
						<independentVar lookup="row">/engines/engine[0]/n2</independentVar>
						<independentVar lookup="column">atmosphere/density-altitude</independentVar>
						<independentVar lookup="table">/controls/engines/engine[0]/cutoff</independentVar>
						<tableData breakPoint="0">
							         0    50000
							 10.0    0    0
							 35.0  420  320
							 50.0  415  315
							 65.2  305  190
							105.6  545  420
						</tableData>
						<tableData breakPoint="1">
							         0    50000
							 30.0    0    0
							 65.2  305  190
							105.6  545  420
						</tableData>
					</table>
				</sum>
			</function>
		</fcs_function>
		
		<lag_filter name="/systems/fadec/egt-actual-1">
			<input>/systems/fadec/egt-cmd-1</input>
			<c1>0.35</c1>
			<output>/engines/engine[0]/egt-actual</output>
		</lag_filter>
		
		<fcs_function name="/systems/fadec/egt-cmd-2">
			<function>
				<sum>
					<property>propulsion/tat-c</property>
					<table>
						<independentVar lookup="row">/engines/engine[1]/n2</independentVar>
						<independentVar lookup="column">atmosphere/density-altitude</independentVar>
						<independentVar lookup="table">/controls/engines/engine[1]/cutoff</independentVar>
						<tableData breakPoint="0">
							         0    50000
							 10.0    0    0
							 35.0  420  320
							 50.0  415  315
							 65.2  305  190
							105.6  545  420
						</tableData>
						<tableData breakPoint="1">
							         0    50000
							 30.0    0    0
							 65.2  305  190
							105.6  545  420
						</tableData>
					</table>
				</sum>
			</function>
		</fcs_function>
		
		<lag_filter name="/systems/fadec/egt-actual-2">
			<input>/systems/fadec/egt-cmd-2</input>
			<c1>0.35</c1>
			<output>/engines/engine[1]/egt-actual</output>
		</lag_filter>
		
		<fcs_function name="/systems/fadec/egt-cmd-3">
			<function>
				<sum>
					<property>propulsion/tat-c</property>
					<table>
						<independentVar lookup="row">/engines/engine[2]/n2</independentVar>
						<independentVar lookup="column">atmosphere/density-altitude</independentVar>
						<independentVar lookup="table">/controls/engines/engine[2]/cutoff</independentVar>
						<tableData breakPoint="0">
							         0    50000
							 10.0    0    0
							 35.0  420  320
							 50.0  415  315
							 65.2  305  190
							105.6  545  420
						</tableData>
						<tableData breakPoint="1">
							         0    50000
							 30.0    0    0
							 65.2  305  190
							105.6  545  420
						</tableData>
					</table>
				</sum>
			</function>
		</fcs_function>
		
		<lag_filter name="/systems/fadec/egt-actual-3">
			<input>/systems/fadec/egt-cmd-3</input>
			<c1>0.35</c1>
			<output>/engines/engine[2]/egt-actual</output>
		</lag_filter>
		
		<lag_filter name="/systems/fadec/n2-actual-1">
			<input>/engines/engine[0]/n2</input>
			<c1>2.25</c1>
			<output>/engines/engine[0]/n2-actual</output>
			<output>/engines/engine[4]/n2</output>
		</lag_filter>
		
		<lag_filter name="/systems/fadec/n2-actual-2">
			<input>/engines/engine[1]/n2</input>
			<c1>2.25</c1>
			<output>/engines/engine[1]/n2-actual</output>
			<output>/engines/engine[5]/n2</output>
		</lag_filter>
		
		<lag_filter name="/systems/fadec/n2-actual-3">
			<input>/engines/engine[2]/n2</input>
			<c1>2.25</c1>
			<output>/engines/engine[2]/n2-actual</output>
			<output>/engines/engine[6]/n2</output>
		</lag_filter>
		
		<lag_filter name="/systems/fadec/ff-actual-1">
			<input>/engines/engine[0]/fuel-flow_pph</input>
			<c1>3.0</c1>
			<output>/engines/engine[0]/ff-actual</output>
		</lag_filter>
		
		<lag_filter name="/systems/fadec/ff-actual-2">
			<input>/engines/engine[1]/fuel-flow_pph</input>
			<c1>3.0</c1>
			<output>/engines/engine[1]/ff-actual</output>
		</lag_filter>
		
		<lag_filter name="/systems/fadec/ff-actual-3">
			<input>/engines/engine[2]/fuel-flow_pph</input>
			<c1>3.0</c1>
			<output>/engines/engine[2]/ff-actual</output>
		</lag_filter>
		
		<fcs_function name="/systems/fadec/oil-psi-cmd-1">
			<function>
				<table>
					<independentVar lookup="row">/engines/engine[0]/n2</independentVar>
					<independentVar lookup="column">atmosphere/density-altitude</independentVar>
					<tableData>
						         0    50000
						  8.0    0    0
						 65.2  148  154
						105.6  343  349
					</tableData>
				</table>
			</function>
		</fcs_function>
		
		<actuator name="/engines/engine[0]/oil-psi">
			<input>/systems/fadec/oil-psi-cmd-1</input>
			<lag>0.65</lag>
		</actuator>
		
		<fcs_function name="/systems/fadec/oil-psi-cmd-2">
			<function>
				<table>
					<independentVar lookup="row">/engines/engine[1]/n2</independentVar>
					<independentVar lookup="column">atmosphere/density-altitude</independentVar>
					<tableData>
						         0    50000
						  8.0    0    0
						 65.2  148  154
						105.6  343  349
					</tableData>
				</table>
			</function>
		</fcs_function>
		
		<actuator name="/engines/engine[1]/oil-psi">
			<input>/systems/fadec/oil-psi-cmd-2</input>
			<lag>0.65</lag>
		</actuator>
		
		<fcs_function name="/systems/fadec/oil-psi-cmd-3">
			<function>
				<table>
					<independentVar lookup="row">/engines/engine[2]/n2</independentVar>
					<independentVar lookup="column">atmosphere/density-altitude</independentVar>
					<tableData>
						         0    50000
						  8.0    0    0
						 65.2  148  154
						105.6  343  349
					</tableData>
				</table>
			</function>
		</fcs_function>
		
		<actuator name="/engines/engine[2]/oil-psi">
			<input>/systems/fadec/oil-psi-cmd-3</input>
			<lag>0.65</lag>
		</actuator>
		
		<switch name="/systems/fadec/oil-temp-rate"> <!-- Sync with panel states -->
			<default value="0.75"/>
			<test value="100">
				/systems/acconfig/autoconfig-running eq 1
			</test>
		</switch>
		
		<fcs_function name="/systems/fadec/oil-temp-cmd-1">
			<function>
				<ifthen>
					<ge>
						<property>/engines/engine[0]/state</property>
						<value>2</value>
					</ge>
					<sum>
						<table>
							<independentVar lookup="row">/engines/engine[0]/n2-actual</independentVar>
							<tableData>
								 65.2  98
								105.6  73
							</tableData>
						</table>
						<quotient>
							<property>propulsion/tat-c</property>
							<value>4</value>
						</quotient>
					</sum>
					<property>propulsion/tat-c</property>
				</ifthen>
			</function>
		</fcs_function>
		
		<actuator name="/systems/fadec/oil-temp-rate-1">
			<input>/systems/fadec/oil-temp-cmd-1</input>
			<rate_limit>/systems/fadec/oil-temp-rate</rate_limit>
		</actuator>
		
		<lag_filter name="/engines/engine[0]/oil-temp">
			<input>/systems/fadec/oil-temp-rate-1</input>
			<c1>0.5</c1>
		</lag_filter>
		
		<fcs_function name="/systems/fadec/oil-temp-cmd-2">
			<function>
				<ifthen>
					<ge>
						<property>/engines/engine[1]/state</property>
						<value>2</value>
					</ge>
					<sum>
						<table>
							<independentVar lookup="row">/engines/engine[0]/n2-actual</independentVar>
							<tableData>
								 65.2  98
								105.6  73
							</tableData>
						</table>
						<quotient>
							<property>propulsion/tat-c</property>
							<value>4</value>
						</quotient>
					</sum>
					<property>propulsion/tat-c</property>
				</ifthen>
			</function>
		</fcs_function>
		
		<actuator name="/systems/fadec/oil-temp-rate-2">
			<input>/systems/fadec/oil-temp-cmd-2</input>
			<rate_limit>/systems/fadec/oil-temp-rate</rate_limit>
		</actuator>
		
		<lag_filter name="/engines/engine[1]/oil-temp">
			<input>/systems/fadec/oil-temp-rate-2</input>
			<c1>0.5</c1>
		</lag_filter>
		
		<fcs_function name="/systems/fadec/oil-temp-cmd-3">
			<function>
				<ifthen>
					<ge>
						<property>/engines/engine[2]/state</property>
						<value>2</value>
					</ge>
					<sum>
						<table>
							<independentVar lookup="row">/engines/engine[0]/n2-actual</independentVar>
							<tableData>
								 65.2  98
								105.6  73
							</tableData>
						</table>
						<quotient>
							<property>propulsion/tat-c</property>
							<value>4</value>
						</quotient>
					</sum>
					<property>propulsion/tat-c</property>
				</ifthen>
			</function>
		</fcs_function>
		
		<actuator name="/systems/fadec/oil-temp-rate-3">
			<input>/systems/fadec/oil-temp-cmd-3</input>
			<rate_limit>/systems/fadec/oil-temp-rate</rate_limit>
		</actuator>
		
		<lag_filter name="/engines/engine[2]/oil-temp">
			<input>/systems/fadec/oil-temp-rate-3</input>
			<c1>0.5</c1>
		</lag_filter>
		
		<fcs_function name="/engines/engine[0]/oil-qty">
			<function>
				<sum>
					<property>/engines/engine[0]/oil-qty-input</property>
					<table>
						<independentVar lookup="row">/engines/engine[0]/n2-actual</independentVar>
						<tableData>
							30.0  0
							65.2 -6
						</tableData>
					</table>
				</sum>
			</function>
		</fcs_function>
		
		<fcs_function name="/engines/engine[1]/oil-qty">
			<function>
				<sum>
					<property>/engines/engine[1]/oil-qty-input</property>
					<table>
						<independentVar lookup="row">/engines/engine[1]/n2-actual</independentVar>
						<tableData>
							30.0  0
							65.2 -6
						</tableData>
					</table>
				</sum>
			</function>
		</fcs_function>
		
		<fcs_function name="/engines/engine[2]/oil-qty">
			<function>
				<sum>
					<property>/engines/engine[2]/oil-qty-input</property>
					<table>
						<independentVar lookup="row">/engines/engine[2]/n2-actual</independentVar>
						<tableData>
							30.0  0
							65.2 -6
						</tableData>
					</table>
				</sum>
			</function>
		</fcs_function>
		
		<fcs_function name="/systems/fadec/nacelle-temp-cmd-1">
			<function>
				<sum>
					<property>propulsion/tat-c</property>
					<table>
						<independentVar lookup="row">/engines/engine[0]/n2</independentVar>
						<independentVar lookup="column">atmosphere/density-altitude</independentVar>
						<independentVar lookup="table">/controls/engines/engine[0]/cutoff</independentVar>
						<tableData breakPoint="0">
							         0    50000
							 15.0    0    0
							 25.0  101   81
							 30.0  101   81
							 35.0   22    9
							 65.2   22    9
							105.6  159  144
						</tableData>
						<tableData breakPoint="1">
							         0    50000
							 30.0    0    0
							 65.2   22    9
							105.6  159  144
						</tableData>
					</table>
				</sum>
			</function>
		</fcs_function>
		
		<actuator name="/engines/engine[0]/nacelle-temp">
			<input>/systems/fadec/nacelle-temp-cmd-1</input>
			<lag>0.8</lag>
		</actuator>
		
		<fcs_function name="/systems/fadec/nacelle-temp-cmd-2">
			<function>
				<sum>
					<property>propulsion/tat-c</property>
					<table>
						<independentVar lookup="row">/engines/engine[1]/n2</independentVar>
						<independentVar lookup="column">atmosphere/density-altitude</independentVar>
						<independentVar lookup="table">/controls/engines/engine[1]/cutoff</independentVar>
						<tableData breakPoint="0">
							         0    50000
							 15.0    0    0
							 25.0  101   81
							 30.0  101   81
							 35.0   22    9
							 65.2   22    9
							105.6  159  144
						</tableData>
						<tableData breakPoint="1">
							         0    50000
							 30.0    0    0
							 65.2   22    9
							105.6  159  144
						</tableData>
					</table>
				</sum>
			</function>
		</fcs_function>
		
		<actuator name="/engines/engine[1]/nacelle-temp">
			<input>/systems/fadec/nacelle-temp-cmd-2</input>
			<lag>0.8</lag>
		</actuator>
		
		<fcs_function name="/systems/fadec/nacelle-temp-cmd-3">
			<function>
				<sum>
					<property>propulsion/tat-c</property>
					<table>
						<independentVar lookup="row">/engines/engine[2]/n2</independentVar>
						<independentVar lookup="column">atmosphere/density-altitude</independentVar>
						<independentVar lookup="table">/controls/engines/engine[2]/cutoff</independentVar>
						<tableData breakPoint="0">
							         0    50000
							 15.0    0    0
							 25.0  101   81
							 30.0  101   81
							 35.0   22    9
							 65.2   22    9
							105.6  159  144
						</tableData>
						<tableData breakPoint="1">
							         0    50000
							 30.0    0    0
							 65.2   22    9
							105.6  159  144
						</tableData>
					</table>
				</sum>
			</function>
		</fcs_function>
		
		<actuator name="/engines/engine[2]/nacelle-temp">
			<input>/systems/fadec/nacelle-temp-cmd-3</input>
			<lag>0.8</lag>
		</actuator>
	
	</channel>
	
	<channel name="Status" execrate="8">
		
		<switch name="/systems/fadec/eng-powered-timer-decr">
			<default value="0.00333333333333333333"/> <!-- About 5 minutes -->
			<test value="1000">
				/systems/acconfig/autoconfig-running eq 1
			</test>
		</switch>
		
		<switch name="/systems/fadec/eng-1-powered-timer-cmd">
			<default value="1"/>
			<test value="0">
				/engines/engine[0]/state eq 0
			</test>
		</switch>
		
		<actuator name="/systems/fadec/eng-1-powered-timer">
			<input>/systems/fadec/eng-1-powered-timer-cmd</input>
			<rate_limit sense="incr">1000</rate_limit>
			<rate_limit sense="decr">/systems/fadec/eng-powered-timer-decr</rate_limit>
		</actuator>
		
		<switch name="/systems/fadec/eng-1-powered">
			<default value="0"/>
			<test logic="AND" value="1">
				/engines/engine[0]/state eq 0
				<test logic="OR">
					position/wow eq 0
					/systems/fadec/eng-1-powered-timer gt 0
				</test>
			</test>
			<test value="1">
				/engines/engine[0]/state eq 3
			</test>
			<test logic="AND" value="1">
				/systems/electrical/bus/dc-1 ge 24
				/engines/engine[0]/n2-actual ge 1
			</test>
		</switch>
		
		<switch name="/systems/fadec/eng-2-powered-timer-cmd">
			<default value="1"/>
			<test value="0">
				/engines/engine[1]/state eq 0
			</test>
		</switch>
		
		<actuator name="/systems/fadec/eng-2-powered-timer">
			<input>/systems/fadec/eng-2-powered-timer-cmd</input>
			<rate_limit sense="incr">1000</rate_limit>
			<rate_limit sense="decr">/systems/fadec/eng-powered-timer-decr</rate_limit>
		</actuator>
		
		<switch name="/systems/fadec/eng-2-powered">
			<default value="0"/>
			<test logic="AND" value="1">
				/engines/engine[1]/state eq 0
				<test logic="OR">
					position/wow eq 0
					/systems/fadec/eng-2-powered-timer gt 0
				</test>
			</test>
			<test value="1">
				/engines/engine[1]/state eq 3
			</test>
			<test logic="AND" value="1">
				/systems/electrical/bus/dc-2 ge 24
				/engines/engine[1]/n2-actual ge 1
			</test>
		</switch>
		
		<switch name="/systems/fadec/eng-3-powered-timer-cmd">
			<default value="1"/>
			<test value="0">
				/engines/engine[2]/state eq 0
			</test>
		</switch>
		
		<actuator name="/systems/fadec/eng-3-powered-timer">
			<input>/systems/fadec/eng-3-powered-timer-cmd</input>
			<rate_limit sense="incr">1000</rate_limit>
			<rate_limit sense="decr">/systems/fadec/eng-powered-timer-decr</rate_limit>
		</actuator>
		
		<switch name="/systems/fadec/eng-3-powered">
			<default value="0"/>
			<test logic="AND" value="1">
				/engines/engine[2]/state eq 0
				<test logic="OR">
					position/wow eq 0
					/systems/fadec/eng-3-powered-timer gt 0
				</test>
			</test>
			<test value="1">
				/engines/engine[2]/state eq 3
			</test>
			<test logic="AND" value="1">
				/systems/electrical/bus/dc-3 ge 24
				/engines/engine[2]/n2-actual ge 1
			</test>
		</switch>
		
		<switch name="/systems/fadec/eng-1-rev-state">
			<default value="0"/>
			<test value="2"> <!-- REV -->
				/systems/fadec/reverse-1/position-norm eq 1
			</test>
			<test logic="OR" value="1"> <!-- U/L -->
				/systems/fadec/reverse-1/engage eq 1
				/systems/fadec/reverse-1/position-norm gt 0
			</test>
		</switch>
		
		<switch name="/systems/fadec/eng-2-rev-state">
			<default value="0"/>
			<test value="2"> <!-- REV -->
				/systems/fadec/reverse-2/position-norm eq 1
			</test>
			<test logic="OR" value="1"> <!-- U/L -->
				/systems/fadec/reverse-2/engage eq 1
				/systems/fadec/reverse-2/position-norm gt 0
			</test>
		</switch>
		
		<switch name="/systems/fadec/eng-3-rev-state">
			<default value="0"/>
			<test value="2"> <!-- REV -->
				/systems/fadec/reverse-3/position-norm eq 1
			</test>
			<test logic="OR" value="1"> <!-- U/L -->
				/systems/fadec/reverse-3/engage eq 1
				/systems/fadec/reverse-3/position-norm gt 0
			</test>
		</switch>
	
	</channel>
	
	<channel name="EAD Needles" execrate="4">
		
		<fcs_function name="/instrumentation/ead/epr[0]">
			<function>
				<table>
					<independentVar lookup="row">/engines/engine[0]/epr-actual</independentVar>
					<tableData>
						0  -44
						2  120
					</tableData>
				</table>
			</function>
		</fcs_function>
		
		<fcs_function name="/instrumentation/ead/epr[1]">
			<function>
				<table>
					<independentVar lookup="row">/engines/engine[1]/epr-actual</independentVar>
					<tableData>
						0  -44
						2  120
					</tableData>
				</table>
			</function>
		</fcs_function>
		
		<fcs_function name="/instrumentation/ead/epr[2]">
			<function>
				<table>
					<independentVar lookup="row">/engines/engine[2]/epr-actual</independentVar>
					<tableData>
						0  -44
						2  120
					</tableData>
				</table>
			</function>
		</fcs_function>
		
		<fcs_function name="/instrumentation/ead/epr-thr[0]">
			<function>
				<table>
					<independentVar lookup="row">/systems/fadec/control-1/throttle-epr</independentVar>
					<tableData>
						0  -44
						2  120
					</tableData>
				</table>
			</function>
		</fcs_function>
		
		<fcs_function name="/instrumentation/ead/epr-thr[1]">
			<function>
				<table>
					<independentVar lookup="row">/systems/fadec/control-2/throttle-epr</independentVar>
					<tableData>
						0  -44
						2  120
					</tableData>
				</table>
			</function>
		</fcs_function>
		
		<fcs_function name="/instrumentation/ead/epr-thr[2]">
			<function>
				<table>
					<independentVar lookup="row">/systems/fadec/control-3/throttle-epr</independentVar>
					<tableData>
						0  -44
						2  120
					</tableData>
				</table>
			</function>
		</fcs_function>
		
		<fcs_function name="/instrumentation/ead/epr-limit">
			<function>
				<table>
					<independentVar lookup="row">/systems/fadec/limit/active</independentVar>
					<tableData>
						0  -44
						2  120
					</tableData>
				</table>
			</function>
		</fcs_function>
		
		<fcs_function name="/instrumentation/ead/n1[0]">
			<function>
				<table>
					<independentVar lookup="row">/engines/engine[0]/n1-actual</independentVar>
					<tableData>
						  0  -44
						120  133
					</tableData>
				</table>
			</function>
		</fcs_function>
		
		<fcs_function name="/instrumentation/ead/n1[1]">
			<function>
				<table>
					<independentVar lookup="row">/engines/engine[1]/n1-actual</independentVar>
					<tableData>
						  0  -44
						120  133
					</tableData>
				</table>
			</function>
		</fcs_function>
		
		<fcs_function name="/instrumentation/ead/n1[2]">
			<function>
				<table>
					<independentVar lookup="row">/engines/engine[2]/n1-actual</independentVar>
					<tableData>
						  0  -44
						120  133
					</tableData>
				</table>
			</function>
		</fcs_function>
		
		<fcs_function name="/instrumentation/ead/egt[0]">
			<function>
				<table>
					<independentVar lookup="row">/engines/engine[0]/egt-actual</independentVar>
					<tableData>
						  0  -44
						700  133
					</tableData>
				</table>
			</function>
		</fcs_function>
		
		<fcs_function name="/instrumentation/ead/egt[1]">
			<function>
				<table>
					<independentVar lookup="row">/engines/engine[1]/egt-actual</independentVar>
					<tableData>
						  0  -44
						700  133
					</tableData>
				</table>
			</function>
		</fcs_function>
		
		<fcs_function name="/instrumentation/ead/egt[2]">
			<function>
				<table>
					<independentVar lookup="row">/engines/engine[2]/egt-actual</independentVar>
					<tableData>
						  0  -44
						700  133
					</tableData>
				</table>
			</function>
		</fcs_function>
		
		<fcs_function name="/instrumentation/ead/n2[0]">
			<function>
				<table>
					<independentVar lookup="row">/engines/engine[0]/n2-actual</independentVar>
					<tableData>
						  0  -44
						120  133
					</tableData>
				</table>
			</function>
		</fcs_function>
		
		<fcs_function name="/instrumentation/ead/n2[1]">
			<function>
				<table>
					<independentVar lookup="row">/engines/engine[1]/n2-actual</independentVar>
					<tableData>
						  0  -44
						120  133
					</tableData>
				</table>
			</function>
		</fcs_function>
		
		<fcs_function name="/instrumentation/ead/n2[2]">
			<function>
				<table>
					<independentVar lookup="row">/engines/engine[2]/n2-actual</independentVar>
					<tableData>
						  0  -44
						120  133
					</tableData>
				</table>
			</function>
		</fcs_function>
		
		<fcs_function name="/instrumentation/sd/eng/oil-psi[0]">
			<function>
				<table>
					<independentVar lookup="row">/engines/engine[0]/oil-psi</independentVar>
					<tableData>
						  0  -44
						440  133
					</tableData>
				</table>
			</function>
		</fcs_function>
		
		<fcs_function name="/instrumentation/sd/eng/oil-psi[1]">
			<function>
				<table>
					<independentVar lookup="row">/engines/engine[1]/oil-psi</independentVar>
					<tableData>
						  0  -44
						440  133
					</tableData>
				</table>
			</function>
		</fcs_function>
		
		<fcs_function name="/instrumentation/sd/eng/oil-psi[2]">
			<function>
				<table>
					<independentVar lookup="row">/engines/engine[2]/oil-psi</independentVar>
					<tableData>
						  0  -44
						440  133
					</tableData>
				</table>
			</function>
		</fcs_function>
		
		<fcs_function name="/instrumentation/sd/eng/oil-temp[0]">
			<function>
				<table>
					<independentVar lookup="row">/engines/engine[0]/oil-temp</independentVar>
					<tableData>
						  0  -44
						190  133
					</tableData>
				</table>
			</function>
		</fcs_function>
		
		<fcs_function name="/instrumentation/sd/eng/oil-temp[1]">
			<function>
				<table>
					<independentVar lookup="row">/engines/engine[1]/oil-temp</independentVar>
					<tableData>
						  0  -44
						190  133
					</tableData>
				</table>
			</function>
		</fcs_function>
		
		<fcs_function name="/instrumentation/sd/eng/oil-temp[2]">
			<function>
				<table>
					<independentVar lookup="row">/engines/engine[2]/oil-temp</independentVar>
					<tableData>
						  0  -44
						190  133
					</tableData>
				</table>
			</function>
		</fcs_function>
		
		<fcs_function name="/instrumentation/sd/eng/oil-qty[0]">
			<function>
				<table>
					<independentVar lookup="row">/engines/engine[0]/oil-qty</independentVar>
					<tableData>
						 0  -44
						30  133
					</tableData>
				</table>
			</function>
		</fcs_function>
		
		<fcs_function name="/instrumentation/sd/eng/oil-qty[1]">
			<function>
				<table>
					<independentVar lookup="row">/engines/engine[1]/oil-qty</independentVar>
					<tableData>
						 0  -44
						30  133
					</tableData>
				</table>
			</function>
		</fcs_function>
		
		<fcs_function name="/instrumentation/sd/eng/oil-qty[2]">
			<function>
				<table>
					<independentVar lookup="row">/engines/engine[2]/oil-qty</independentVar>
					<tableData>
						 0  -44
						30  133
					</tableData>
				</table>
			</function>
		</fcs_function>
		
		<switch name="/instrumentation/sd/eng/oil-qty-cline-qt[0]">
			<default value="/instrumentation/sd/eng/oil-qty-cline-qt[0]"/>
			<test logic="AND" value="-1">
				/engines/engine[0]/state ne 3
				position/wow eq 1
			</test>
			<test logic="AND" value="/instrumentation/sd/eng/oil-qty-cline-qt[0]">
				/engines/engine[0]/state eq 3
				position/wow eq 0
			</test>
			<test value="/engines/engine[0]/oil-qty">
				/engines/engine[0]/state eq 3
			</test>
		</switch>
		
		<switch name="/instrumentation/sd/eng/oil-qty-cline-qt[1]">
			<default value="/instrumentation/sd/eng/oil-qty-cline-qt[1]"/>
			<test logic="AND" value="-1">
				/engines/engine[1]/state ne 3
				position/wow eq 1
			</test>
			<test logic="AND" value="/instrumentation/sd/eng/oil-qty-cline-qt[1]">
				/engines/engine[1]/state eq 3
				position/wow eq 0
			</test>
			<test value="/engines/engine[1]/oil-qty">
				/engines/engine[1]/state eq 3
			</test>
		</switch>
		
		<switch name="/instrumentation/sd/eng/oil-qty-cline-qt[2]">
			<default value="/instrumentation/sd/eng/oil-qty-cline-qt[2]"/>
			<test logic="AND" value="-1">
				/engines/engine[2]/state ne 3
				position/wow eq 1
			</test>
			<test logic="AND" value="/instrumentation/sd/eng/oil-qty-cline-qt[2]">
				/engines/engine[2]/state eq 3
				position/wow eq 0
			</test>
			<test value="/engines/engine[2]/oil-qty">
				/engines/engine[2]/state eq 3
			</test>
		</switch>
		
		<fcs_function name="/instrumentation/sd/eng/oil-qty-cline[0]">
			<function>
				<table>
					<independentVar lookup="row">/instrumentation/sd/eng/oil-qty-cline-qt[0]</independentVar>
					<tableData>
						-1  -45
						 0  -44
						30  133
					</tableData>
				</table>
			</function>
		</fcs_function>
		
		<fcs_function name="/instrumentation/sd/eng/oil-qty-cline[1]">
			<function>
				<table>
					<independentVar lookup="row">/instrumentation/sd/eng/oil-qty-cline-qt[1]</independentVar>
					<tableData>
						-1  -45
						 0  -44
						30  133
					</tableData>
				</table>
			</function>
		</fcs_function>
		
		<fcs_function name="/instrumentation/sd/eng/oil-qty-cline[2]">
			<function>
				<table>
					<independentVar lookup="row">/instrumentation/sd/eng/oil-qty-cline-qt[2]</independentVar>
					<tableData>
						-1  -45
						 0  -44
						30  133
					</tableData>
				</table>
			</function>
		</fcs_function>
	
	</channel>

</system>
